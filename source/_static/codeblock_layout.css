/* ======================================================
   BASIS: Ein Style für ALLE Codeblöcke (Pygments/Sphinx)
   ====================================================== */

/* Der äußere Container (Sphinx/Pygments): z. B. <div class="highlight-bash highlight"> */
div.highlight {
  border-radius: 5px;                  /* Rundungen für OBEN & UNTEN */
  overflow: hidden;                    /* Verhindert, dass Ecken des Inhalts über die Rundung hinausragen */
  border: 1px solid rgba(0,0,0,.08); /* Einheitlicher Rahmen/Hintergrund für alle Codeboxen */
  background: #f5f5f5;               /* Grundhintergrund (unter dem Titelbalken und um den Code herum) */
}

/* Der eigentliche Code-Block (das <pre> im Container) */
div.highlight pre,
pre.literal-block {
  background: transparent; /* Hintergrund übernimmt der Container */
  margin: 0;               /* bündig zum Container */
  padding: 0.75rem 1rem;   /* Luft um den Code */
  border-radius: 0;        /* Rundungen macht der Container */
  overflow: auto;          /* Scrollbar bei langen Zeilen */
}

/* ==================================================
   TITELBALKEN für ALLE Codeblöcke (einmal definiert)
   ================================================== */

/* JEDER Codeblock erhält einen Titelbalken.
   Der Text/Farbe kommen über CSS-Variablen, die pro Sprache gesetzt werden. */
div.highlight::before {
  content: var(--code-title, "Code"); /* Standardtitel, falls nicht gesetzt */
  display: block;
  font-weight: 600;

  /* Farben kommen aus Variablen, pro Sprache überschrieben (s. unten) */
  background: var(--code-title-bg, #3b3b3b);
  color: var(--code-title-fg, #fff);

  padding: 6px 10px;
  border-radius: 5px 5px 0 0;  /* Obere Ecken runden – passt zur Container-Rundung */
  line-height: 1.2;            /* Grenzfall: Falls Themes Schatten/Margins haben, sorgt dies für sauberen Abschluss */
}

/* ===========================================================================
   SPRACH-ZUORDNUNG (nur Variablen setzen, kein Duplizieren)
   Sphinx/Pygments erzeugt Klassen wie .highlight-bash, .highlight-python, ...
   =========================================================================== */

/* Bash / Konsole */
div.highlight-bash    { --code-title: "Bash";     --code-title-bg: #000;    --code-title-fg: #fff; }
div.highlight-console { --code-title: "Konsole";  --code-title-bg: #000;    --code-title-fg: #fff; }

/* Windows Batch */
div.highlight-bat     { --code-title: "Batch";    --code-title-bg: #000;    --code-title-fg: #fff; }

/* Python */
div.highlight-python  { --code-title: "Python";   --code-title-bg: #3771a1; --code-title-fg: #fff; }

/* LaTeX */
div.highlight-latex   { --code-title: "LaTeX";    --code-title-bg: #343131; --code-title-fg: #fff; }

/* Markdown (MyST) */
div.highlight-markdown{ --code-title: "MyST-Markdown"; --code-title-bg: #f37726; --code-title-fg: #fff; }

/* TOML / JSON */
div.highlight-toml    { --code-title: "TOML";     --code-title-bg: #9c4221; --code-title-fg: #fff; }
div.highlight-json    { --code-title: "JSON";     --code-title-bg: #434343; --code-title-fg: #fff; }

/* BibTeX / reST / CSS / C# / XML */
div.highlight-bibtex  { --code-title: "BibTeX";   --code-title-bg: #343131; --code-title-fg: #fff; }
div.highlight-rst     { --code-title: "reST";     --code-title-bg: #343131; --code-title-fg: #fff; }
div.highlight-css     { --code-title: "CSS";      --code-title-bg: #66309a; --code-title-fg: #fff; }
div.highlight-csharp  { --code-title: "C#";       --code-title-bg: #66309a; --code-title-fg: #fff; }
div.highlight-xml     { --code-title: "XML";      --code-title-bg: #439eff; --code-title-fg: #fff; }

/* Optional: Ordnerstruktur (keine Sprache → oft "none") */
div.highlight-none    { --code-title: "Ordnerstruktur"; --code-title-bg: #3b3b3b; --code-title-fg: #fff; }

/* Copy-Button unter Kopfzeile */
div.highlight .copybtn {
  position: absolute;
  top: 35px;
  right: 8px;
  z-index: 2;
}
